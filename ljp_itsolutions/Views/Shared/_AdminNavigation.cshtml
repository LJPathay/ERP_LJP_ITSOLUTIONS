@{
    var currentController = ViewContext.RouteData.Values["controller"]?.ToString();
    var currentAction = ViewContext.RouteData.Values["action"]?.ToString();

    bool IsActive(string action, string controller = "Admin") => currentController == controller && currentAction == action;
    bool IsReportsActive() => currentController == "Admin" && (currentAction == "Reports" || (currentAction?.StartsWith("Reports_") == true));
}

<div class="nav flex-column gap-1">
    <div class="nav-item">
        <a class="nav-link d-flex align-items-center gap-3 @(IsActive("Dashboard") || IsActive("Index") ? "active" : "")" href="@Url.Action("Dashboard", "Admin")">
            <i class="fas fa-th-large opacity-75"></i>
            <span>Overview Dashboard</span>
        </a>
    </div>

    <div class="nav-item">
        <a class="nav-link d-flex align-items-center gap-3 @(IsActive("Users") ? "active" : "")" href="@Url.Action("Users", "Admin")">
            <i class="fas fa-user-shield opacity-75"></i>
            <span>User Management</span>
        </a>
    </div>

    <div class="nav-item">
        <a class="nav-link d-flex align-items-center gap-3 @(IsActive("Transactions") ? "active" : "")" href="@Url.Action("Transactions", "Admin")">
            <i class="fas fa-exchange-alt opacity-75"></i>
            <span>Sales & History</span>
        </a>
    </div>

    <div class="nav-item">
        <a class="nav-link d-flex align-items-center gap-3 @(IsActive("InventoryOverview") ? "active" : "")" href="@Url.Action("InventoryOverview", "Admin")">
            <i class="fas fa-boxes opacity-75"></i>
            <span>Inventory Control</span>
        </a>
    </div>

    <div class="nav-item">
        <a class="nav-link d-flex align-items-center gap-3 @(IsActive("Reports") || IsReportsActive() ? "active" : "")" href="@Url.Action("Reports", "Admin")">
            <i class="fas fa-chart-bar opacity-75"></i>
            <span>Business Reports</span>
        </a>
    </div>

    <div class="nav-item">
        <a class="nav-link d-flex align-items-center gap-3 @(IsActive("AuditLogs") ? "active" : "")" href="@Url.Action("AuditLogs", "Admin")">
            <i class="fas fa-shield-alt opacity-75"></i>
            <span>Audit Logs</span>
        </a>
    </div>
</div>


